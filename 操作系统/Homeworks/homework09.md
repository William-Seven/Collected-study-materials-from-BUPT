## **9.4**
该虚拟地址的二进制形式为
0001 0001 0001 0010 0011 0100 0101 0110
page size 为 $2^{12}$，page table size 为 $2^{20}$
则低12位0100 0101 0110被用作页面内的偏移量
剩下的20位0001 0001 0001 0010 0011被用作页面表中的偏移量

## 9.5
$$
\begin{gathered}
200ns=(1-P)\times 100ns+0.3P\times 8ms+0.7P\times 20ms\\
16400P\approx0.1\\
P\approx0.000006
\end{gathered}
$$
即最大可接受的页错误率为 0.000006

## 9.11  
操作系统将会产生三个页面错误：
1. 访问指令时发生页面错误。操作系统需要从磁盘将这条指令所在的页面加载到内存中。
2. 访问包含指向目标内存位置的指针的内存位置时发生页面错误。操作系统会从磁盘加载包含该指针的页面。
3. 访问目标内存位置时发生页面错误。操作系统会再次从磁盘加载这个目标数据的页面。
如果只为该进程分配两个页面，则第三个页面会替换掉包含指令的页面。
如果又执行这条指令，则会重复上述三个页面错误
如果指令被缓存到寄存器中，那么在第三次页面错误后，指令将能够完全执行。

---

## 补 1
页面错误发生在程序访问的内存页面不在内存中时。
过程如下：
1. **页错误发生**：当程序访问的页面不在内存中时发生页错误。
2. **空闲帧处理**：如果物理内存中有空闲帧，操作系统会直接将页面从磁盘加载到内存。
3. **页替换**：如果没有空闲帧，操作系统会通过替换算法选取一个页面进行替换，将不再使用的页面写回磁盘，腾出空间给新页面。
4. **更新页表**：操作系统会更新页表，确保虚拟内存地址正确映射到物理内存地址。

## 补 2
- 三帧：
  - LRU：15 次
  - FIFO：16 次
  - Optimal：11 次
- 四帧：
  - LRU：10 次
  - FIFO：14 次
  - Optimal：8 次
