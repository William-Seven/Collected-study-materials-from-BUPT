(function(){'use strict';var e=function(){};goog.inherits(e,HTMLElement);e.prototype.createdCallback=function(){this.c=this.getAttribute("id")+"_data";window[this.c]||(window[this.c]={});this.a=null;this.b=[];this.f=!1;"function"!=typeof window.onAdData&&(this.f=!0,window.onAdData=this.onAdData_.bind(this))};
e.prototype.getData=function(){if(this.hasAttribute("is-custom-schema")){var a={};window.dynamicContent?a=window.dynamicContent:window.devDynamicContent&&(a=window.devDynamicContent);h(this,a);return a}if(this.f)return this.a;a=Enabler.getParameter("AdData");return this.a=this.processAdData_(a)};e.prototype.isDataLoaded=function(){return!0};e.prototype.addDataTransformer=function(a){this.b.push(a)};
e.prototype.onAdData_=function(a){if(a){a=this.a=this.processAdData_(a);if(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("ready",!0,!0,a)}else b=document.createEvent("Event"),b.initEvent("ready",!0,!0);this.dispatchEvent(b)}};
e.prototype.processAdData_=function(a){if(!a)return null;a=a.google_template_data;if(!a)throw Error("Incorrect data format: missing google_template_data");a=a.adData;if(!a||!a.length)throw Error("Incorrect data format: missing google_template_data.adData");a=a[0];var b=this.hasAttribute("is-custom-schema");if(b)return window.dynamicContent=a;a=this.toCanonicalForm_(a);var c=this.getAttribute("network-schema-id");if(b)window.dynamicContent=a;else if(c&&416!=c&&311!=c){if(442==c){b=a.screenshots;if("undefined"==
typeof b){b=[];for(var d=1;4>=d;d++)(c=a["screenshot"+d])&&b.push(c);a.screenshots=b}"undefined"==typeof a.appIcon&&(b=a.appIconStandard,a.appIcon=a.appIconHighRes||b)}}else b=a.Design,Array.isArray(b)&&1==b.length&&(a.Design=b[0]),b=a.Headline,Array.isArray(b)&&1==b.length&&(a.Headline=b[0]);h(this,a);return a};var h=function(a,b){for(var c=0;c<a.b.length;c++)"function"==typeof a.b[c]&&a.b[c].call(a,b,a)};
e.prototype.toCanonicalForm_=function(a){var b={},c;for(c in a){var d=c.split("_");if(1==d.length)b[d[0]]=a[c];else{var f=d[0];var g=d[1];d=d[2];b[f]||(b[f]=[]);b[f][g]||(b[f][g]={});b[f][g][d]=a[c]}}return b};e.prototype.attributeChangedCallback=function(){};document.registerElement("gwd-gpa-data-provider",{prototype:e.prototype});}).call(this);
