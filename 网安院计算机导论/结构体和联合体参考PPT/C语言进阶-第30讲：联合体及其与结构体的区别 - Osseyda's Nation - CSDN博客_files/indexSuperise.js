!function(e,o){var t=function(t){function i(){var t=domBox[0].offsetTop,i=domBox.height()+c.boxStyle+o(e).height()-t-domBox.height();return i}function n(){if(c.show360id){var e=o("#"+VIDEO_STIMULATION.store.ids[0]+"-dialog");e.remove(),VIDEO_STIMULATION.store.ids=[],VIDEO_STIMULATION.store.displayShowId=[]}}function d(){VIDEO_STIMULATION.render({showid:c.show360id,award:c.title360,placeholderId:"inlineFrameExample",onSuccess:function(){n();var t='<div class="video-result">\n\t<a id="videoResultImg" href="'+c.show360Qrlink+'" target="_blank">\n\t'+(c.show360QrlinkQrCode?'<img src="'+c.show360QrlinkQrCode+'">':"")+"\n\t</a>\n\t<p>微信扫码领券，码书商店全场通用</p>\n</div>",i=o(t);o("#inlineFrameExample").append(i),setTimeout(function(){if(e.QRCode&&c.show360Qrlink&&!c.show360QrlinkQrCode){var o=document.querySelector("#videoResultImg");new QRCode(o,{text:c.show360Qrlink}),o.querySelector("img").style.border="8px solid #fff"}},500),c.videoMode&&!x.data("videoShow")&&setTimeout(function(){x.data("videoShow",!0),x.attr("data-video-show","true"),x.find(".showBig").removeAttr("style").removeClass("isshow"),i.remove(),"notMove"!==c.smallMove&&r()},5500)},onFail:function(){}}),setting360AdTimer=setInterval(s,1e3)}function s(){if(VIDEO_STIMULATION.store.ids.length>0){o("#"+VIDEO_STIMULATION.store.ids[0]+"-stimulate").css({width:"100%","text-align":"center"}),clearInterval(setting360AdTimer);var e=o("#"+VIDEO_STIMULATION.store.ids[0]+"-video-player");e.prop("loop",!1),e.prop("muted","muted"),e[0].readyState>=2&&e[0].play()}}function a(){x.find(".light-box img").removeClass().addClass(c.smallMove+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){o(this).removeClass()})}function r(){I=setInterval(a,7e3)}function l(){var e=x.find(".showBig");return!e.hasClass("isshow")&&(e.show().addClass("isshow"),clearInterval(I),c.show360id&&S&&(d(),S=!1),void(c.videoMode&&(S=!0)))}this.defaults={zIndex:999,smallMoveImg:"//ubmcmm.baidustatic.com/media/v1/0f000nTu6IrRwN7Xpq-Ca0.jpg",smallMove:"shake",smallMoveTime:7e3,bigMoveImg:"//ubmcmm.baidustatic.com/media/v1/0f000QuuSx9HvmkZP0qie0.jpg",bigMove:"bounceInRight",link:"",boxStyle:24,trackSuperId:"",trackSId:"",posParent:"",show360id:"",title360:"",show360Qrlink:"",show360QrlinkQrCode:"",videoMode:!1};var c=o.extend(this.defaults,t),m=null,v=c.trackSuperId?'data-track-click=\'{"mod":"kp_popu_'+c.trackSuperId+"-"+c.trackSId+'","con":",'+c.link+",-\"}'":"",h="false"===localStorage.getItem("indexSuperise_"+c.trackSuperId),p='<link href="https://csdnimg.cn/public/common/indexSuperise/1.1.1/indexSuperise.css?20190610151009" rel="stylesheet">';if(o("body").append(p),c.show360Qrlink&&!c.show360QrlinkQrCode){var u=document.createElement("script");u.src="//g.csdnimg.cn/lib/qrcode/1.0.0/qrcode.min.js",o("body").append(u)}var f='\n<a href="'+c.link+'" target="_blank"  '+v+'>\n<img src="'+c.bigMoveImg+'" alt="">\n</a>',g='<svg t="1540286119506" class="icon btn-close-adddd" style="width: 14px; height: 14px; fill: currentcolor; overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6698"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="#ffffff" p-id="6699"></path></svg>';if(c.show360id)var f='<style>\n    .showPrize-dialog.modal-body {\n        padding: 0 !important;\n}\n    .close-btn.closetc {\n        display: none !important;\n    }\n</style>\n<div id="inlineFrameExample" style="">\n\t<script src="https://cjhd.mediav.com/js/mvp_video_stimulation.js"></script>\n</div>';var I,w=c.show360id&&c.videoMode,b='<div class="indexSuperise '+(w?"video-mode":"")+'" '+(w?' data-video-show="false"':"")+' style="z-index:'+c.zIndex+'">\n<div class="light-box">\n<a href="'+c.link+'" target="_blank"  '+v+'>\n<img src="'+c.smallMoveImg+'" alt="">\n</a>\n</div>\n<div class="showBig animated '+c.bigMove+(c.show360id?" show360":"")+'">\n <div class="pos-box">\n'+g+f+'\n</div>  \n</div><button class="btn-close-ad">关闭</button>\n                </div>',x=o(b);if(!h){var k=setInterval(function(){if(c.posParent?m=o(c.posParent):(domBox=o(".meau-gotop-box"),domBox=domBox.length>0?domBox:o(".csdn-side-toolbar")),domBox.length>0){clearInterval(k);var t=i();x.css({bottom:t+"px"});var n=o(c.trackSuperId?"#kp_box_"+c.trackSuperId:"body");n.removeAttr("data-track-click"),n.append(x),a(),"notMove"!==c.smallMove&&r(),o(e).scroll(function(){var e=i();x.css({bottom:e+"px"})})}},100),S=!0;x.find(".light-box").hover(l),c.videoMode&&(setting360AdTimer=setInterval(function(){VIDEO_STIMULATION&&(clearInterval(setting360AdTimer),l())},500)),x.find("svg.btn-close-adddd").click(function(e){e.preventDefault(),x.find(".showBig").removeAttr("style").removeClass("isshow"),x.data("videoShow",!0),x.attr("data-video-show","true"),n(),"notMove"!==c.smallMove&&r()}),x.find("button.btn-close-ad").click(function(){x.remove(),localStorage.setItem("indexSuperise_"+c.trackSuperId,!1)})}};e.csdn=e.csdn?e.csdn:{},e.csdn.indexSuperise=t}(window,window.jQuery);