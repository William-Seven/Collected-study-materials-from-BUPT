webpackJsonp([6],{HMYI:function(e,t){},"vT+3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("aA9S"),s=i.n(a),r=i("rVsN"),c=i.n(r),n=i("LTzH"),l=i("VqY/"),v={getTemplatequery:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new c.a(function(a,s){n.a.get(l.a.API_PREVIEW_URL+"ad/brand/template/"+e+"?m="+t+"&k="+i).then(function(e){var t=e.data.data;t&&(t.templateContent=JSON.parse(t.templateContent),a(e.data))}).catch(function(e){s(e)})})}},p={name:"preview",data:function(){return{preview:{},imgWidth:95,imgHeight:71,contentMarginLeft:106,clientObj:{},clients:[{id:"1",name:"华为云"},{id:"2",name:"广告"}],isAdClosed:!1,type:1,fType:""}},created:function(){var e=this;this.$route.params.id?this.getTemplatequery(this.$route.params.id,this.$route.query.m,this.$route.query.k):(this.preview=s()({},this.templateData),this.type=parseInt(this.templateType),this.fType=this.feedType,this.getImgArr()),this.clients.map(function(t){e.clientObj[t.id]=t.name})},filters:{filterClient:function(e,t){return t[e]}},watch:{feedType:function(e,t){this.fType=e},templateType:function(e,t){this.type=e},templateData:function(e,t){this.preview=s()({},e),this.getImgArr()}},props:{templateData:Object,templateType:Number,feedType:String},methods:{getImgArr:function(){if(this.preview.imgUrl&&("3"===this.fType||3===this.type)){var e;e=this.preview.imgUrl.split(","),this.preview.imgUrl=e}},getTemplatequery:function(e,t,i){var a=this;v.getTemplatequery(e,t,i).then(function(e){if(200===e.status){if(!e.data)return;a.preview=e.data.templateContent,a.type=parseInt(e.data.templateType),a.fType=a.preview.feedType,a.getImgArr()}}).catch(function(e){})},jumpToPreview:function(e){window.open(""+e)},closeAd:function(){this.isAdClosed=!0}}},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-wrapper"},[e.isAdClosed?i("div",{staticClass:"close-ad-wrapper"},[i("p",[e._v("CSDN已关闭此广告")])]):e._e(),e._v(" "),1===e.type?i("div",{staticClass:"picture-ad"},[i("div",{staticClass:"ad-icon-wrap clearfix"},[i("div",{staticClass:"ad-icon",on:{click:function(t){return e.closeAd()}}},[e._v("关闭")]),e._v(" "),e.preview.client?i("div",{staticClass:"ad-icon"},[e._v(e._s(e.preview.client.length>6?e.preview.client.slice(0,5):e.preview.client))]):e._e(),e._v(" "),e.preview.client&&e.preview.client.indexOf("广告")>=0?e._e():i("div",{staticClass:"ad-icon"},[e._v("广告")])]),e._v(" "),i("a",{attrs:{target:"_blank"},on:{click:function(t){return e.jumpToPreview(e.preview.clickUrl)}}},[i("img",{attrs:{src:e.preview.imgUrl,alt:""}})]),e._v(" "),i("a",{attrs:{href:e.preview.popuMonitor}})]):e._e(),e._v(" "),2===e.type?i("div",{staticClass:"feed-template"},["1"===e.fType?i("div",{staticClass:"ad-box ad-imgtxt-box clearfix"},[i("div",{staticClass:"ad-icon-wrap clearfix"},[i("div",{staticClass:"ad-icon",on:{click:function(t){return e.closeAd()}}},[e._v("关闭")]),e._v(" "),e.preview.client?i("div",{staticClass:"ad-icon"},[e._v(e._s(e.preview.client.length>6?e.preview.client.slice(0,5):e.preview.client))]):e._e(),e._v(" "),e.preview.client&&e.preview.client.indexOf("广告")>=0?e._e():i("div",{staticClass:"ad-icon"},[e._v("广告")])]),e._v(" "),i("a",{attrs:{href:e.preview.clickUrl,target:"_blank"}},[i("div",{staticClass:"img-box"},[i("img",{style:{width:e.imgWidth+"px",height:e.imgHeight+"px"},attrs:{src:e.preview.imgUrl,alt:""}})]),e._v(" "),i("div",{staticClass:"content-box",style:{marginLeft:e.contentMarginLeft+"px"}},[i("p",{staticClass:"tit"},[e._v(e._s(e.preview.title))]),e._v(" "),i("p",{staticClass:"intro"},[e._v(e._s(e.preview.abstract))])])]),e._v(" "),i("a",{attrs:{href:e.preview.popuMonitor}})]):e._e(),e._v(" "),"2"===e.fType?i("div",{staticClass:"ad-box ad-txt-box"},[i("div",{staticClass:"ad-icon-wrap clearfix"},[i("div",{staticClass:"ad-icon",on:{click:function(t){return e.closeAd()}}},[e._v("关闭")]),e._v(" "),e.preview.client?i("div",{staticClass:"ad-icon"},[e._v(e._s(e.preview.client.length>6?e.preview.client.slice(0,5):e.preview.client))]):e._e(),e._v(" "),e.preview.client&&e.preview.client.indexOf("广告")>=0?e._e():i("div",{staticClass:"ad-icon"},[e._v("广告")])]),e._v(" "),i("a",{attrs:{href:e.preview.clickUrl,target:"_blank"}},[i("p",{staticClass:"tit"},[e._v(e._s(e.preview.title))]),e._v(" "),i("p",{staticClass:"intro"},[e._v(e._s(e.preview.abstract))])]),e._v(" "),i("a",{attrs:{href:e.preview.popuMonitor}})]):e._e(),e._v(" "),"3"===e.fType?i("div",{staticClass:"ad-box"},[i("div",{staticClass:"pic_container"},[i("div",{staticClass:"pic_title"},[e._v("\n          "+e._s(e.preview.title)+"\n        ")]),e._v(" "),i("div",{staticClass:"ad-icon-wrap clearfix"},[i("div",{staticClass:"ad-icon",on:{click:function(t){return e.closeAd()}}},[e._v("关闭")]),e._v(" "),e.preview.client?i("div",{staticClass:"ad-icon"},[e._v(e._s(e.preview.client.length>6?e.preview.client.slice(0,5):e.preview.client))]):e._e(),e._v(" "),e.preview.client&&e.preview.client.indexOf("广告")>=0?e._e():i("div",{staticClass:"ad-icon"},[e._v("广告")])]),e._v(" "),i("a",{staticClass:"pic_row",attrs:{href:e.preview.clickUrl,target:"_blank"}},e._l(e.preview.imgUrl,function(e,t){return i("div",{key:t,staticClass:"pic_item"},[i("img",{attrs:{src:e}})])}),0),e._v(" "),i("a",{attrs:{href:e.preview.popuMonitor}})])]):e._e(),e._v(" "),"4"===e.fType?i("div",{staticClass:"ad-box clearfix big_pic_container"},[i("div",{staticClass:"ad-icon-wrap clearfix"},[i("div",{staticClass:"ad-icon",on:{click:function(t){return e.closeAd()}}},[e._v("关闭")]),e._v(" "),e.preview.client?i("div",{staticClass:"ad-icon"},[e._v(e._s(e.preview.client.length>6?e.preview.client.slice(0,5):e.preview.client))]):e._e(),e._v(" "),e.preview.client&&e.preview.client.indexOf("广告")>=0?e._e():i("div",{staticClass:"ad-icon"},[e._v("广告")])]),e._v(" "),i("a",{attrs:{href:e.preview.clickUrl,target:"_blank"}},[i("p",{staticClass:"pic_title"},[e._v(e._s(e.preview.title))]),e._v(" "),i("img",{attrs:{src:e.preview.imgUrl,alt:""}})]),e._v(" "),i("a",{attrs:{href:e.preview.popuMonitor}})]):e._e()]):e._e(),e._v(" "),3===e.type?i("div",{staticClass:"ad-box "},[i("div",{staticClass:"pic_container"},[i("a",{staticClass:"pic_row",attrs:{href:e.preview.clickUrl,target:"_blank"}},e._l(e.preview.imgUrl,function(e,t){return i("div",{key:t,staticClass:"pic_item interactiveAd"},[i("img",{attrs:{src:e}})])}),0),e._v(" "),i("a",{attrs:{href:e.preview.popuMonitor}})])]):e._e()])};o._withStripped=!0;var d={render:o,staticRenderFns:[]},_=d;var w=!1;var f=i("C7Lr")(p,_,!1,function(e){w||i("HMYI")},"data-v-36749b0d",null);f.options.__file="src/pages/preview/Preview.vue";t.default=f.exports}});
//# sourceMappingURL=6.c73170871f5905ba2d49.js.map